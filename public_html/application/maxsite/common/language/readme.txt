Изменения алгоритма перевода. Тезисы, мысли вслух.

xxx. Для того, чтобы сформировать список фраз для перевода, используется программа 
	poedit с тем, чтобы на выходе получить po-файл, в котором содержатся все 
	переводимые фразы.
	
	В PoEdit нужно указать для поиска функцию t.
	
	Для формирования разных языковых файлов следует скопировать
		- для admin только каталог admin
		- для plugins только каталог plugins 
		- для templates только каталог templates/default
		- для install только views/install
		- для остальных каталог common
	
	Отвесттвенный за перевод MaxSite CMS формирует пустой po-файл, который 
	обновляется с каждой версией системы. Файл выкладывается в Сеть для свободного
	скачивания.
	
	
	Переводчик делает свой языковой справочник перевода, который работает в PoEdit.
	Там же осуществляется перевод всех фраз.
	
	После получения po-файла он обрабатывается специальной программой (скриптом),
	и на выходе получаются MaxSite CMS - языковые файлы с $lang.


*****************************



Правила перевода для переводчиков
---------------------------------

1. Переводу подвергаются все фразы, которые выводятся через фунцию t(). Если по 
	какой-то причине, вы увидели, что фраза выводится вне этой функции, 
	сообщите об этом разработчику.

2. Файлы перевода располагаются в зависимости от условий в нескольких местах. 
	Чтобы это определить, следует посмотреть как вызывается функция t().

	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	t('фраза', __FILE__);
		
		файл перевода располагается в том же каталоге, что и текущий файл 
		в /language/. Обычно в таких файлах располагается перевод от авторов 
		сторонних плагинов и шаблонов.
	
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	t('фраза');
	
		Основные фразы располагаются в 
			/common/language/ - основные фразы
			/common/language/plugins/ - перевод плагинов
			/common/language/templates/ - перевод default-шаблона

		Эти файлы подключаются всегда.
		
		Если в каталоге текущего шаблона есть свой перевод, то он
		также подключается автоматом из
			/templates/ШАБЛОН/language/
		
		Для админ-панели автоматом загружается файл перевода из
			admin/language/

		Для фраз установки системы подключаются
			/common/language/install/
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	
3. Имя файла перевода совпадает с указанным языком. Например для английского 
	будет en.php. Украинского - ua.php и т.д. 
	
4. Язык задается в файле mso_config.php:
	$MSO->language = 'en'; <- для английского
	
	Если язык не задан, то перевод не выполняется.
	
5. Файл перевода должен иметь такую структуру:

-------------------------------------------------------------------------------
<?php  if (!defined('BASEPATH')) exit('No direct script access allowed');

/**
 * Language for MaxSite CMS
 * (c) http://max-3000.com/
 * Author: (c) Ваше имя
 * Author URL: http://ваш сайт
 * Update URL: http://где можно найти последнюю версию перевода
 */

# путь/файл1.php
$lang['фраза1'] = 'перевод1';
$lang['фраза2'] = 'перевод2';

# путь/файл2.php
$lang['фраза3'] = 'перевод3';
$lang['фраза4'] = 'перевод4';

и т.д.


-------------------------------------------------------------------------------

6. Фразы, не имеющие перевода (''), игнорируются системой.

7. Следует учитывать, что все фразы попадают в единый массив, поэтому позже 
	добавленная фраза имеет приоритет и заменит аналогичную, добавленную раньше.
	Например:
	
	$lang['фраза1'] = 'перевод1';
	$lang['фраза1'] = 'перевод2';
	$lang['фраза1'] = 'перевод3';
	
	приведет в переводу «фраза1» на «перевод3».
	
	Если же указать пустую строку (''), то перевод этой фразы отключается.


********************************************************************************
По всем вопросам, связанным с переводом, обращаться только через
форум http://forum.max-3000.com/ или непосредственно к автору перевода. 
Разработчик MaxSite CMS не занимается переводом. :)